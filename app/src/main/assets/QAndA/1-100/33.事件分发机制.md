## dispatchTouchEvent() -> onInterceptTouchEvent() -> onTouchEvent()**

### 方法返回值

onInterceptTouchEvent()、dispatchTouchEvent()、onTouchEvent()方法的返回值有两种 true 或者 false,只有四种情况来设置返回值:

- 直接返回false
- 直接返回true
- 调用super()方法
- 不复写方法

其中第3种方法和第4种方法不能混为一谈，它们的处理结果大不相同

---

- 对于 dispatchTouchEvent，onTouchEvent，return true是终结事件传递。return false 是回溯到父View的onTouchEvent方法。
- ViewGroup 想把自己分发给自己的onTouchEvent，需要拦截器onInterceptTouchEvent方法return true 把事件拦截下来。
- ViewGroup 的拦截器onInterceptTouchEvent 默认是不拦截的，所以return super.onInterceptTouchEvent()=return false；
- View 没有拦截器，为了让View可以把事件分发给自己的onTouchEvent，View的dispatchTouchEvent默认实现（super）就是把事件分发给自己的onTouchEvent。

ViewGroup和View 的dispatchTouchEvent 是做事件分发，那么这个事件可能分发出去的四个目标

> 注：------> 后面代表事件目标需要怎么做。
> 1、 自己消费，终结传递。------->return true ；
> 2、 给自己的onTouchEvent处理-------> 调用super.dispatchTouchEvent()系统默认会去调用 onInterceptTouchEvent，在onInterceptTouchEvent return true就会去把事件分给自己的onTouchEvent处理。
> 3、 传给子View------>调用super.dispatchTouchEvent()默认实现会去调用 onInterceptTouchEvent 在onInterceptTouchEvent return false，就会把事件传给子类。
> 4、 不传给子View，事件终止往下传递，事件开始回溯，从父View的onTouchEvent开始事件从下到上回归执行每个控件的onTouchEvent------->return false；
> **注：** 由于View没有子View所以不需要onInterceptTouchEvent 来控件是否把事件传递给子View还是拦截，所以View的事件分发调用super.dispatchTouchEvent()的时候默认把事件传给自己的onTouchEvent处理（相当于拦截），对比ViewGroup的dispatchTouchEvent 事件分发，View的事件分发没有上面提到的4个目标的第3点。

ViewGroup和View的onTouchEvent方法是做事件处理的，那么这个事件只能有两个处理方式：

> 1、自己消费掉，事件终结，不再传给谁----->return true;
> 2、继续从下往上传，不消费事件，让父View也能收到到这个事件----->return false;View的默认实现是不消费的。所以super==false。

ViewGroup的onInterceptTouchEvent方法对于事件有两种情况：

> 1、拦截下来，给自己的onTouchEvent处理--->return true;
> 2、不拦截，把事件往下传给子View---->return false,ViewGroup默认是不拦截的，所以super==false；

---

### 实例分析

- 存在一个View，它被3个ViewGroup层层包围，在ViewGroup中事件传递相关的三个方法都返回默认值的情况下，该View会收到

  2^4次 ActionDown事件，

  2^4 - 1次 ActionCancel事件，

  1次 ActionUp事件