### ActiveResources

- 第一级缓存，表示正在活动中的资源。

- 生命周期较短，因此没有大小限制。

-  ActiveResources 中通过一个 HashMap 来存储数据，数据保存在一个虚引用中：

  ```java
  Map<Key, ResourceWeakReference> activeEngineResources = new HashMap<>();
  static final class ResourceWeakReference extends WeakReference<EngineResource<?>>
  ```

- 使用一个引用队列：

  ```java
  private final ReferenceQueue<EngineResource<?>> resourceReferenceQueue = new ReferenceQueue<>();
  ```

  > 每当向 activeEngineResources 中添加一个 WeakReference 对象时都会将 resourceReferenceQueue 和这个 WeakReference 关联起来，用来跟踪这个 WeakReference 的 gc，一旦这个弱引用被 gc 掉，就会将它从 activeResource 中移除，ReferenceQueue 的具体作用大概就是用来**跟踪弱引用（或者软引用、虚引用）是否被 gc 的。**

### 内存缓存

### 磁盘缓存

